<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ã´ã«ã‚‡ãã‚‰ã‚€æ’®å½±ä¼š - ã‚¤ãƒ™ãƒ³ãƒˆã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«</title>
    
    <!-- SEOæœ€é©åŒ– -->
    <meta name="description" content="ã´ã«ã‚‡ãã‚‰ã‚€æ’®å½±ä¼šã®ã‚¤ãƒ™ãƒ³ãƒˆã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã€‚æœ€æ–°ã®æ’®å½±ä¼šæƒ…å ±ã‚’ãŠå±Šã‘ã—ã¾ã™ã€‚">
    <meta name="keywords" content="ã´ã«ã‚‡ãã‚‰ã‚€, æ’®å½±ä¼š, ã‚¤ãƒ™ãƒ³ãƒˆ, å†™çœŸ, ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«">
    
    <!-- CSS -->
    <link rel="stylesheet" href="css/shared/style.css">
    
    <!-- ãƒ•ã‚¡ãƒ“ã‚³ãƒ³ -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect width='100' height='100' fill='%23007AFF'/><circle cx='50' cy='50' r='30' fill='white'/></svg>">
</head>

<body>
    <!-- å…±æœ‰ãƒ˜ãƒƒãƒ€ãƒ¼ -->
    <div id="site-header"></div>
    <!-- ãƒ’ãƒ¼ãƒ­ãƒ¼ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
<section class="hero-section">
    <div class="hero-container">
        <div class="hero-slider">
            <!-- ã‚¹ãƒ©ã‚¤ãƒ‰1 -->
            <div class="hero-slide active">
                <a href="index.html" class="hero-link">
                    <img id="heroImg1" src="" alt="ä»Šæœˆã®ã‚¤ãƒ™ãƒ³ãƒˆ">
                </a>
            </div>
            
            <!-- ã‚¹ãƒ©ã‚¤ãƒ‰2 -->
            <div class="hero-slide">
                <a href="event-detail.html?id=EVT001" class="hero-link">
                    <img id="heroImg2" src="" alt="ã‚µãƒãƒ¼ãƒ•ã‚§ã‚¹ã‚¿2024">
                </a>
            </div>
            
            <!-- ã‚¹ãƒ©ã‚¤ãƒ‰3 -->
            <div class="hero-slide">
                <a href="#special" class="hero-link">
                    <img id="heroImg3" src="" alt="ç‰¹åˆ¥ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³">
                </a>
            </div>
        </div>
        
        <!-- ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼ -->
        <div class="hero-indicators">
            <span class="indicator active" data-slide="0"></span>
            <span class="indicator" data-slide="1"></span>
            <span class="indicator" data-slide="2"></span>
        </div>
    </div>
</section>

<!-- ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒŠï¼ˆæ—¢å­˜ï¼‰ -->
<div class="main-container">
    <!-- æ—¢å­˜ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ -->
</div>

    
    <div class="main-container">
        <!-- å·¦å´ï¼šã‚¤ãƒ™ãƒ³ãƒˆä¸€è¦§ï¼ˆ2/3ï¼‰ -->
        <div class="events-section">
            <h2 class="section-title">ğŸ“¸ é–‹å‚¬äºˆå®šã‚¤ãƒ™ãƒ³ãƒˆ</h2>
            <div class="events-grid" id="eventsGrid">
                <!-- ã‚¤ãƒ™ãƒ³ãƒˆã‚«ãƒ¼ãƒ‰ã¯å‹•çš„ã«ç”Ÿæˆã•ã‚Œã¾ã™ -->
            </div>
        </div>
        
        <!-- å³å´ï¼šæœˆé–“ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ï¼ˆ1/3ï¼‰ -->
        <div class="calendar-section">
            <div class="calendar-container">
                <div class="calendar-header">
                    <h3 class="calendar-title">2024å¹´8æœˆ</h3>
                    <div class="calendar-nav">
                        <button onclick="changeMonth(-1)">â€¹</button>
                        <button onclick="changeMonth(1)">â€º</button>
                    </div>
                </div>
                <div class="calendar-grid" id="calendar">
                    <!-- ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã¯å‹•çš„ç”Ÿæˆ -->
                </div>
            </div>
            
            <!-- ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒˆ -->
            <div class="event-list" id="eventList">
                <h4 class="event-list-title">ğŸ—“ ä»Šæœˆã®ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«</h4>
                <!-- ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒˆã‚¢ã‚¤ãƒ†ãƒ ã¯å‹•çš„ã«ç”Ÿæˆã•ã‚Œã¾ã™ -->
            </div>
        </div>
    </div>

    <script>
        // ã‚¤ãƒ™ãƒ³ãƒˆãƒ‡ãƒ¼ã‚¿
        const eventData = [
            {
                id: 'EVT001',
                name: 'ã‚µãƒãƒ¼ãƒ•ã‚§ã‚¹ã‚¿2024',
                date: '2024-08-10',
                venue: 'Gã‚¹ã‚¿ã‚¸ã‚ªï¼ˆç§‹è‘‰åŸï¼‰',
                price: 6000,
                type: 'group',
                badge: 'popular',
                remaining: 3,
                image: ''
            },
            {
                id: 'EVT002',
                name: 'ç”°ä¸­æ„›ç† å€‹äººæ’®å½±ä¼š',
                date: '2024-08-12',
                venue: 'æ¸‹è°·ã‚¹ã‚¿ã‚¸ã‚ª',
                price: 15000,
                type: 'individual',
                badge: 'new',
                remaining: null,
                image: ''
            },
            {
                id: 'EVT003',
                name: 'ã‚³ã‚¹ãƒ—ãƒ¬æ’®å½±ä¼šSP',
                date: '2024-08-15',
                venue: 'æ± è¢‹ã‚¹ã‚¿ã‚¸ã‚ª',
                price: 8000,
                type: 'group',
                badge: 'limited',
                remaining: null,
                image: ''
            },
            {
                id: 'EVT004',
                name: 'å±±ç”°èŠ±å­ æ’®å½±ä¼š',
                date: '2024-08-18',
                venue: 'æ–°å®¿ã‚¹ã‚¿ã‚¸ã‚ª',
                price: 12000,
                type: 'individual',
                badge: null,
                remaining: null,
                image: ''
            },
            {
                id: 'EVT005',
                name: 'çœŸå¤ã®æµ´è¡£æ’®å½±ä¼š',
                date: '2024-08-20',
                venue: 'æµ…è‰ã‚¹ã‚¿ã‚¸ã‚ª',
                price: 7000,
                type: 'group',
                badge: 'popular',
                remaining: 5,
                image: ''
            },
            {
                id: 'EVT006',
                name: 'ä½è—¤ç¾å’² å€‹äººæ’®å½±',
                date: '2024-08-22',
                venue: 'æ¨ªæµœã‚¹ã‚¿ã‚¸ã‚ª',
                price: 10000,
                type: 'individual',
                badge: 'new',
                remaining: null,
                image: ''
            }
        ];
        
        // ã‚¤ãƒ™ãƒ³ãƒˆã‚«ãƒ¼ãƒ‰ã‚’ç”Ÿæˆ
        function generateEventCards() {
            const eventsGrid = document.getElementById('eventsGrid');
            let html = '';
            
            eventData.forEach(event => {
                const date = new Date(event.date);
                const month = date.getMonth() + 1;
                const day = date.getDate();
                const dayOfWeek = ['æ—¥', 'æœˆ', 'ç«', 'æ°´', 'æœ¨', 'é‡‘', 'åœŸ'][date.getDay()];
                
                let badgeHtml = '';
                if (event.badge === 'new') {
                    badgeHtml = '<span class="event-badge badge-new">NEW</span>';
                } else if (event.badge === 'popular') {
                    badgeHtml = '<span class="event-badge badge-popular">äººæ°—</span>';
                } else if (event.badge === 'limited') {
                    badgeHtml = '<span class="event-badge badge-limited">é™å®š</span>';
                }
                
                const gradient = event.type === 'individual' 
                    ? 'linear-gradient(135deg, #10b981, #3b82f6)'
                    : 'linear-gradient(135deg, #ff6ec7, #3b82f6)';
                
                html += `
                    <div class="event-card" data-id="${event.id}" role="button" tabindex="0" aria-label="${event.name}ã®è©³ç´°ãƒšãƒ¼ã‚¸ã¸ç§»å‹•">
                        <div class="event-card-image" style="background: ${gradient};">
                            ${event.name}
                            <img src="${event.image}" alt="${event.name}ã®ç”»åƒ" onerror="this.style.display='none'">
                            ${badgeHtml}
                        </div>
                        <div class="event-content">
                            <h3 class="event-title">${event.name}</h3>
                            <div class="event-info">ğŸ“… ${month}æœˆ${day}æ—¥(${dayOfWeek})</div>
                            <div class="event-info">ğŸ“ ${event.venue}</div>
                        </div>
                        <div class="event-footer">
                            <span class="event-price">Â¥${event.price.toLocaleString()}${event.type === 'individual' ? '/30åˆ†' : 'ã€œ'}</span>
                            <span style="color: #666; font-size: 0.85rem;">
                                ${event.remaining ? `æ®‹ã‚Š${event.remaining}æ ` : 'ç©ºãã‚ã‚Š'}
                            </span>
                        </div>
                        <div class="card-actions">
                            <a href="event-detail.html?id=${event.id}" class="btn-detail">è©³ç´°ã‚’è¦‹ã‚‹</a>
                        </div>
                    </div>
                `;
            });
            
            eventsGrid.innerHTML = html;
            
            // ã‚¤ãƒ™ãƒ³ãƒˆã‚«ãƒ¼ãƒ‰å…¨ä½“ã«ã‚¯ãƒªãƒƒã‚¯ã‚¤ãƒ™ãƒ³ãƒˆã‚’è¿½åŠ 
            document.querySelectorAll('.event-card').forEach(card => {
                const handleCardClick = (e) => {
                    if (e.target.classList.contains('btn-detail') || e.target.closest('.btn-detail')) {
                        return;
                    }
                    const eventId = card.dataset.id;
                    window.location.href = `event-detail.html?id=${eventId}`;
                };
                card.addEventListener('click', handleCardClick);
                card.addEventListener('keydown', (e) => {
                    if (e.key === 'Enter' || e.key === ' ') {
                        e.preventDefault();
                        handleCardClick(e);
                    }
                });
                card.style.cursor = 'pointer';
            });
        }
        
        // ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒˆã‚’ç”Ÿæˆ
        function generateEventList() {
            const eventList = document.getElementById('eventList');
            let html = '<h4 class="event-list-title">ğŸ—“ ä»Šæœˆã®ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«</h4>';
            
            eventData.forEach(event => {
                const date = new Date(event.date);
                const day = date.getDate();
                const typeText = event.type === 'individual' ? 'å€‹äººæ’®å½±ä¼š' : 'å›£ä½“æ’®å½±ä¼š';
                
                html += `
                    <div class="event-list-item" data-id="${event.id}">
                        <div class="event-list-date">${day}</div>
                        <div class="event-list-info">
                            <div class="event-list-name">${event.name}</div>
                            <div class="event-list-type">${typeText}</div>
                        </div>
                    </div>
                `;
            });
            
            eventList.innerHTML = html;
            
            document.querySelectorAll('.event-list-item').forEach(item => {
                item.addEventListener('click', () => {
                    const eventId = item.dataset.id;
                    location.href = `event-detail.html?id=${eventId}`;
                });
            });
        }
        
        // ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ç”Ÿæˆ
        let currentYear = 2024;
        let currentMonth = 8;
        
        function generateCalendar(year, month) {
            const calendar = document.getElementById('calendar');
            const firstDay = new Date(year, month - 1, 1);
            const lastDay = new Date(year, month, 0);
            const prevLastDay = new Date(year, month - 1, 0);
            
            const startingDayOfWeek = firstDay.getDay();
            const monthLength = lastDay.getDate();
            const prevMonthLength = prevLastDay.getDate();
            
            let html = '';
            
            const weekdays = ['æ—¥', 'æœˆ', 'ç«', 'æ°´', 'æœ¨', 'é‡‘', 'åœŸ'];
            weekdays.forEach(day => {
                html += `<div class="calendar-weekday">${day}</div>`;
            });
            
            for (let i = startingDayOfWeek - 1; i >= 0; i--) {
                html += `<div class="calendar-day other-month">
                    <div class="calendar-day-number">${prevMonthLength - i}</div>
                </div>`;
            }
            
            const today = new Date();
            for (let day = 1; day <= monthLength; day++) {
                const dateStr = `${year}-${String(month).padStart(2, '0')}-${String(day).padStart(2, '0')}`;
                const dayEvents = eventData.filter(e => e.date === dateStr);
                const isToday = today.getFullYear() === year && today.getMonth() + 1 === month && today.getDate() === day;
                
                let dayClass = 'calendar-day';
                if (isToday) dayClass += ' today';
                if (dayEvents.length > 0) dayClass += ' has-event';
                
                html += `<div class="${dayClass}">
                    <div class="calendar-day-number">${day}</div>`;
                
                const maxEvents = 3;
                const displayEvents = dayEvents.slice(0, maxEvents);
                
                displayEvents.forEach(event => {
                    const shortName = event.name.length > 6 ? event.name.substring(0, 6) + '...' : event.name;
                    html += `<div class="calendar-event ${event.type}">${shortName}</div>`;
                });
                
                if (dayEvents.length > maxEvents) {
                    const remainingCount = dayEvents.length - maxEvents;
                    html += `<div class="calendar-event more-events">+${remainingCount}</div>`;
                }
                
                html += '</div>';
            }
            
            const totalCells = startingDayOfWeek + monthLength;
            const nextMonthDays = 42 - totalCells;
            for (let day = 1; day <= nextMonthDays; day++) {
                html += `<div class="calendar-day other-month">
                    <div class="calendar-day-number">${day}</div>
                </div>`;
            }
            
            calendar.innerHTML = html;
            
            const monthNames = ['1æœˆ', '2æœˆ', '3æœˆ', '4æœˆ', '5æœˆ', '6æœˆ', '7æœˆ', '8æœˆ', '9æœˆ', '10æœˆ', '11æœˆ', '12æœˆ'];
            document.querySelector('.calendar-title').textContent = `${year}å¹´${monthNames[month - 1]}`;
        }
        
        function changeMonth(direction) {
            currentMonth += direction;
            if (currentMonth > 12) {
                currentMonth = 1;
                currentYear++;
            } else if (currentMonth < 1) {
                currentMonth = 12;
                currentYear--;
            }
            generateCalendar(currentYear, currentMonth);
        }
        
        // åˆæœŸåŒ–
        document.addEventListener('DOMContentLoaded', () => {
            // ç”»åƒè¨­å®šèª­è¾¼
            const heroUrl = (window.APP_IMAGE && window.APP_IMAGE.hero) || 'https://placehold.co/1920x1080/png?text=Pinyogram';
            const eventUrl = (window.APP_IMAGE && window.APP_IMAGE.event) || 'https://placehold.co/800x600/png?text=Event';
            ['heroImg1','heroImg2','heroImg3'].forEach(id => { const el = document.getElementById(id); if (el) el.src = heroUrl; });
            // å…¨ã‚¤ãƒ™ãƒ³ãƒˆç”»åƒã‚’çµ±ä¸€URLã«å·®ã—æ›¿ãˆ
            eventData.forEach(e => e.image = eventUrl);

            generateEventCards();
            generateEventList();
            generateCalendar(currentYear, currentMonth);
        });
    </script>

    <!-- å…±æœ‰ãƒ•ãƒƒã‚¿ãƒ¼ -->
    <div id="site-footer"></div>

    <!-- JavaScript (ES6 Modules) -->
    <script src="/shared/js/config.js"></script>
    <script type="module" src="js/shared/main.js"></script>
    <script defer src="/shared/header.js"></script>
    <script defer src="/shared/footer.js"></script>
</body>
</html>